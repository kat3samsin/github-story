{"version":3,"sources":["actions/UserActions.js","components/UserInput.js","components/UserStory.js","components/UserStories.js","css/timeline.js","App.js","reducers/UserReducer.js","store.js","index.js"],"names":["username","getUserStory","user","replace","apiData","url","concat","dispatch","type","callApi","getMore","page","getState","state","headers","isFirstPage","isLastPage","Number","totalPage","fetch","then","response","json","data","message","Error","getUserSuccess","items","catch","err","console","log","toString","UserInput","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","handleSubmit","e","preventDefault","getUser","value","props","loadUser","inherits","createClass","key","_this2","react_default","a","createElement","onSubmit","className","required","ref","input","placeholder","Component","connect","UserStory","repo","name","description","UserStories","handleScroll","document","querySelectorAll","isElementInViewport","el","rect","getBoundingClientRect","top","left","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","callbackFunc","i","classList","add","addEventListener","timeline","map","d","components_UserStory","id","App","components_UserInput","react_loader_default","loaded","isFetching","color","isError","components_UserStories","initialState","UserReducer","undefined","action","assign","store","createStore","applyMiddleware","thunk","ReactDOM","render","es","src_App","getElementById"],"mappings":"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","file":"static/js/main.a7cc6d04.chunk.js","sourcesContent":["export const initialize = () => {\n    return {\n      type: \"GET_USER\"\n    };\n  };\n  \n  export const getUserSuccess = data => {\n    return {\n      type: \"GET_USER_SUCCESS\",\n      data: data.data\n    };\n  };\n  \n  export const getUserError = () => {\n    return {\n      type: \"GET_USER_ERROR\"\n    };\n  };\n  \n  export let username = '';\n  export const getUserStory = user => {\n    username = user ? user.replace(/\\s/g, \"\") : username;\n    \n    var apiData = {\n      url: `https://api.github.com/search/repositories?q=user:${username}&sort=updated&order=desc`\n    };\n    return dispatch => {\n      dispatch(initialize());\n      return callApi(dispatch, apiData);\n    };\n  };\n\n  export const getMore = (page) => {\n    return (dispatch, getState) => {\n      var state = getState();\n      if (!state.headers[page]) {\n        return;\n      }\n      \n      var apiData = {\n        url: state.headers[page],\n        isFirstPage: page === 'first',\n        isLastPage: page === 'last' || Number(state.page) + 1 === Number(state.totalPage)\n      }\n      return callApi(dispatch, apiData);\n    }\n  }\n  \n  export const callApi = (dispatch, apiData) => {\n    return fetch(apiData.url)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        if (data.message === \"Validation Failed\") {\n          throw new Error(\"No such user found!!!\");\n        } else {\n          dispatch(getUserSuccess({\n            data: data.items\n          }));\n        };\n      })\n      .catch(err => {\n        console.log('callApi', err.toString());\n        dispatch(getUserError())\n      });\n  }","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport { getUserStory } from \"../actions/UserActions\";\n\nexport class UserInput extends Component {\n    handleSubmit = (e) => {\n      e.preventDefault();\n      const user = this.getUser ? this.getUser.value : '';  \n      this.props.loadUser(user);\n    }\n    render() {\n      return (\n        <div>\n          <form onSubmit={this.handleSubmit}>\n            <input className='userInput' required type=\"text\" ref={(input => this.getUser = input)} placeholder=\"Enter GitHub username\" /><br />\n            <button className='generateButton'>Generate</button>\n          </form>\n        </div>\n      );\n    }\n  }\n  function mapDispatchToProps(dispatch) {\n    return {\n      loadUser: (user) => {\n        dispatch(getUserStory(user))\n     }\n    }\n  }\n  export default connect(null, mapDispatchToProps)(UserInput);","import React, { Component } from 'react';\n\nexport class UserStory extends Component {\n\n  render() {\n    return this.props && this.props.repo ? (\n      <li>\n        <div>\n          <time>{this.props.repo.name}</time>{this.props.repo.description}\n        </div>\n      </li> ): null;\n  }\n}\nexport default UserStory;","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport { getMore } from \"../actions/UserActions\";\nimport UserStory from './UserStory';\nimport { timeline } from '../css/timeline.js';\n\nexport class UserStories extends Component {\n  componentDidMount() {\n    timeline();\n  }\n  handleScroll = () => {\n    this.props.getMore();\n  }\n  render() {\n    return (\n      <div>\n        <section className=\"intro\">\n        <div className=\"container\">\n          <h1>Story &darr;</h1>\n        </div>\n      </section>\n        <section className=\"timeline\">\n          <ul>\n            {this.props.data.map((d) => <UserStory key={d.id} repo={d} />)}\n          </ul>\n          </section>\n      </div>\n    );\n  }\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getMore: (user) => {\n      dispatch(getMore(user))\n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(UserStories);","export const timeline = function() {\n\n    'use strict';\n  \n    // define variables\n    var items = document.querySelectorAll(\".timeline li\");\n  \n    // check if an element is in viewport\n    // http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n    function isElementInViewport(el) {\n      var rect = el.getBoundingClientRect();\n      return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n      );\n    }\n  \n    function callbackFunc() {\n      for (var i = 0; i < items.length; i++) {\n        if (isElementInViewport(items[i])) {\n          items[i].classList.add(\"in-view\");\n        }\n      }\n    }\n  \n    // listen for events\n    window.addEventListener(\"load\", callbackFunc);\n    window.addEventListener(\"resize\", callbackFunc);\n    window.addEventListener(\"scroll\", callbackFunc);\n  \n  };","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport Loader from 'react-loader';\n\nimport UserInput from './components/UserInput';\nimport UserStories from './components/UserStories';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className='App'>\n        <h1>GitHub Story</h1><br />\n        <UserInput /><br />\n        <Loader loaded={!this.props.isFetching} color=\"#FFFF\" />\n        {this.props.isError ? <h3>User not found.</h3> : null}\n        {this.props.data && this.props.data.length > 0 ?\n          <UserStories /> : null}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n    isError: false,\n    isFetching: false,\n    data: [],\n  };\n  \n  const UserReducer = (state = initialState, action) => {\n    console.log('action', action)\n    switch(action.type) {\n      case 'GET_USER':\n          return Object.assign({}, state, {\n            isError: false,\n            isFetching: true,\n            data: [],\n          });\n        case 'GET_USER_SUCCESS':\n          return Object.assign({}, state, {\n            isError: false,\n            isFetching: false,\n            data: action.data\n          });\n        case 'GET_USER_ERROR':\n          return Object.assign({}, state, {\n            isFetching: false,\n            isError: true,\n            data: []\n          });\n      default:\n        return state;\n    }\n  }\n  export default UserReducer;","import { createStore, applyMiddleware } from \"redux\";\nimport UserReducer from \"./reducers/UserReducer\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(UserReducer, applyMiddleware(thunk));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport './css/timeline.css';\n\n\nimport App from './App';\nimport store from \"./store\"\nimport {Provider} from \"react-redux\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root')\n);\n"],"sourceRoot":""}